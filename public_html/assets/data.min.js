var Wiki=function(){return{'currentUserID':null,'currentUserLoginname':null,'currentUserPassword':null,'defaultPositiveHandler':function(a){alert(a.message)},'defaultNegativeHandler':function(a){alert(a.message)},'defaultErrorHandler':function(a,b,c){alert("! Error !\n\n"+b+": "+c+"\n\nSigned in as "+this.currentUserLoginname)},'Request':function(d,e,f,g,h,i){var j=this;var f=f||null;var d=d||"GET";var g=g||this.defaultPositiveHandler;var h=h||this.defaultNegativeHandler;var i=i||this.defaultErrorHandler;$.ajax({'type':d,'url':e,'data':f,'dataType':'json','success':function(a){if(a.status==200){g(a)}else{h(a)}},'error':function(a,b,c){i(a,b,c)},beforeSend:function(a){if(j.currentUserID){a.setRequestHeader("Authorization","Basic "+window.btoa(j.currentUserLoginname+":"+j.currentUserPassword))}}})},'SignIn':function(b,c,d,e,f){var g=this;this.Request("GET","request.php?command=CheckLoginCredentials&loginname="+b+"&password="+c,null,function(a){g.currentUserID=a.user.user_id;g.currentUserLoginname=b;g.currentUserPassword=c;d(a)},function(a){g.currentUserID=null;g.currentUserLoginname=null;g.currentUserPassword=null;e(a)},f)},'SignOut':function(a){this.currentUserID=null;this.currentUserLoginname=null;this.currentUserPassword=null;a()},'DisplayPage':function(a,b,c,d){this.Request("GET","request.php?command=DisplayPage&page="+a,null,b,c,d)},'GetPageByName':function(a,b,c,d){this.Request("GET","request.php?command=GetPage&page="+a,null,b,c,d)},'GetPageByID':function(a,b,c,d){this.Request("GET","request.php?command=GetPage&pageID="+a,null,b,c,d)},'CreateOrSavePage':function(a,b,c,d){this.Request("POST","request.php?command=SavePage",a,b,c,d)},'DeletePage':function(a,b,c,d){this.Request("DELETE","request.php?command=DeletePage",{'pageID':a},b,c,d)},'GetVersionsByPage':function(a,b,c,d){this.Request("GET","request.php?command=GetVersions&pageID="+a,null,b,c,d)},'GetVersionByID':function(a,b,c,d){this.Request("GET","request.php?command=GetVersion&versionID="+a,null,b,c,d)},'GetUsers':function(a,b,c){this.Request("GET","request.php?command=GetUsers",null,a,b,c)},'GetUserByLoginname':function(a,b,c,d){this.Request("GET","request.php?command=GetUser&loginname="+a,null,b,c,d)},'GetUserByID':function(a,b,c,d){this.Request("GET","request.php?command=GetUser&userID="+a,null,b,c,d)},'CreateOrSaveUser':function(a,b,c,d){this.Request("POST","request.php?command=SaveUser",a,b,c,d)},'DeleteUser':function(a,b,c,d){this.Request("DELETE","request.php?command=DeleteUser",{'userID':a},b,c,d)},'GetGroups':function(a,b,c){this.Request("GET","request.php?command=GetGroups",null,a,b,c)},'GetGroupByName':function(a,b,c,d){this.Request("GET","request.php?command=GetGroup&name="+a,null,b,c,d)},'GetGroupByID':function(a,b,c,d){this.Request("GET","request.php?command=GetGroup&groupID="+a,null,b,c,d)},'CreateOrSaveGroup':function(a,b,c,d){this.Request("POST","request.php?command=SaveGroup",a,b,c,d)},'DeleteGroup':function(a,b,c,d){this.Request("DELETE","request.php?command=DeleteGroup",{'groupID':a},b,c,d)},'GetUsersInGroup':function(a,b,c,d){this.Request("DELETE","request.php?command=GetUsers&groupID="+a+"&mode=INCLUDE",null,b,c,d)},'GetUsersNotInGroup':function(a,b,c,d){this.Request("DELETE","request.php?command=GetUsers&groupID="+a+"&mode=EXCLUDE",null,b,c,d)},'AddUsersToGroup':function(a,b,c,d,e){this.Request("PUT","request.php?command=SaveGroupMember",{'groupID':a,'userIDs':b},c,d,e)},'RemoveUsersFromGroup':function(a,b,c,d,e){this.Request("DELETE","request.php?command=SaveGroupMember",{'groupID':a,'userIDs':b},c,d,e)},'GrantPermissions':function(a,b,c,d,e){this.Request("PUT","request.php?command=SaveUserPermission",{'userID':a,'permissions':b},c,d,e)},'RevokePermissions':function(a,b,c,d,e){this.Request("DELETE","request.php?command=SaveUserPermission",{'userID':a,'permissions':b},c,d,e)},'GetPermissionsForUser':function(a,b,c,d){this.Request("GET","request.php?command=GetUserPermissions&userID="+a,null,b,c,d)},'UserHasPermission':function(a,b,c,d){this.Request("GET","request.php?command=UserHasPermission&userID="+this.currentUserID+"&permission="+a,null,b,c,d)}}};